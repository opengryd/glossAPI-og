# GLM-OCR (MPS / MLX â€” macOS Apple Silicon) environment
#
# Copy this file to .env_glmocr and adjust the paths for your machine:
#   cp dependency_setup/.env_glmocr.example dependency_setup/.env_glmocr
# Then source it before running the pipeline:
#   source dependency_setup/.env_glmocr

# ---------------------------------------------------------------------------
# Shared weights root
# ---------------------------------------------------------------------------
export GLOSSAPI_WEIGHTS_ROOT=/path/to/glossAPI/model_weights

# ---------------------------------------------------------------------------
# Python binary inside the GLM-OCR venv.
# ---------------------------------------------------------------------------
export GLOSSAPI_GLMOCR_PYTHON=/path/to/glossAPI/dependency_setup/.venvs/glm-ocr-py312/bin/python

# ---------------------------------------------------------------------------
# CLI control
# ---------------------------------------------------------------------------
export GLOSSAPI_GLMOCR_ENABLE_OCR=1
export GLOSSAPI_GLMOCR_ENABLE_STUB=0

# ---------------------------------------------------------------------------
# Device for inference: mps (default on macOS Apple Silicon).
# ---------------------------------------------------------------------------
export GLOSSAPI_GLMOCR_DEVICE="mps"

# ---------------------------------------------------------------------------
# HuggingFace MLX model identifier (default: mlx-community/GLM-OCR-4bit).
# ---------------------------------------------------------------------------
# export GLOSSAPI_GLMOCR_MLX_MODEL=mlx-community/GLM-OCR-4bit

# ---------------------------------------------------------------------------
# MLX model weights directory (default: GLOSSAPI_WEIGHTS_ROOT/glm-ocr-mlx/).
# ---------------------------------------------------------------------------
# export GLOSSAPI_GLMOCR_MODEL_DIR=/path/to/glossAPI/model_weights/glm-ocr-mlx

# ---------------------------------------------------------------------------
# Path to MLX inference script (default: package-embedded mlx_cli.py).
# ---------------------------------------------------------------------------
# export GLOSSAPI_GLMOCR_MLX_SCRIPT=/path/to/glossAPI/src/glossapi/ocr/glm_ocr/mlx_cli.py

# ---------------------------------------------------------------------------
# Misc
# ---------------------------------------------------------------------------
export GLOSSAPI_SKIP_DOCLING_BOOT=1
